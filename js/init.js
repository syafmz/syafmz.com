jQuery(document).ready(function(){tokyo_tm_menu();tokyo_tm_modalbox_news();tokyo_tm_modalbox_about();tokyo_tm_modalbox_portfolio();tokyo_tm_my_progress();tokyo_tm_projects();tokyo_tm_portfolio();tokyo_tm_imgtosvg();tokyo_tm_popup();tokyo_tm_data_images();tokyo_tm_owl_carousel();jQuery(window).load("body",function(){tokyo_tm_my_load()})});function tokyo_tm_menu(){var c=jQuery(".tokyo_tm_all_wrap .leftpart .menu ul li,.tokyo_tm_mobile_menu .menu ul li");var a=jQuery(".tokyo_tm_all_wrap");var b=jQuery(".tokyo_tm_section");c.on("click",function(){var e=jQuery(this);var d=e.find("a").attr("href");if(!e.hasClass("active")){c.removeClass("active");e.addClass("active");b.removeClass("active");a.find(d).addClass("active").animate({scrollTop:0})}})}function tokyo_tm_modalbox_news(){var b=jQuery(".tokyo_tm_modalbox");var c=jQuery(".tokyo_tm_news ul li");var a=b.find(".close");c.each(function(){var f=jQuery(this);var e=f.find(".list_inner").html();var h=f.find(".details .title a,.tokyo_tm_full_link,.tokyo_tm_read_more a");var d=f.find(".main");var i=d.data("img-url");var j=f.find(".title");var g=f.find(".title a").html();h.on("click",function(){jQuery("body").addClass("modal");b.addClass("opened");b.find(".description_wrap").html(e);d=b.find(".main");d.css({backgroundImage:"url("+i+")"});j=b.find(".title");j.html(g);tokyo_tm_imgtosvg();return false})});a.on("click",function(){b.removeClass("opened");b.find(".description_wrap").html("");jQuery("body").removeClass("modal");return false})}function tokyo_tm_modalbox_about(){var a=jQuery(".tokyo_tm_modalbox_about");var b=jQuery(".tokyo_tm_about .tokyo_tm_button a");var c=a.find(".close");b.on("click",function(){a.addClass("opened");tokyo_tm_my_progress();return false});c.on("click",function(){a.removeClass("opened");return false})}function tokyo_tm_modalbox_portfolio(){var b=jQuery(".tokyo_tm_modalbox");var a=jQuery(".tokyo_tm_portfolio .popup_info");a.on("click",function(){var d=jQuery(this);var e=d.closest("li");var c=e.find(".details_all_wrap").html();var g=e.find(".entry").data("title");var f=e.find(".entry").data("category");b.addClass("opened");b.find(".description_wrap").html(c);b.find(".top_image").html(e.find(".popup_info").html());b.find(".portfolio_main_title").html("<h3>"+g+"</h3><span>"+f+"</span>");tokyo_tm_popup()})}function tokyo_tm_projects(){jQuery(".tokyo_tm_portfolio_animation_wrap").each(function(){jQuery(this).on("mouseenter",function(){if(jQuery(this).data("title")){jQuery(".tokyo_tm_portfolio_titles").html(jQuery(this).data("title")+'<span class="work__cat">'+jQuery(this).data("category")+"</span>");jQuery(".tokyo_tm_portfolio_titles").addClass("visible")}jQuery(document).on("mousemove",function(a){jQuery(".tokyo_tm_portfolio_titles").css({left:a.clientX-10,top:a.clientY+25})})}).on("mouseleave",function(){jQuery(".tokyo_tm_portfolio_titles").removeClass("visible")})})}function tokyo_tm_portfolio(){if(jQuery().isotope){var b=jQuery(".tokyo_tm_portfolio .portfolio_list");var a=jQuery(".tokyo_tm_portfolio .portfolio_filter ul");if(a.length){a.find("a").on("click",function(){var c=jQuery(this).attr("data-filter");b.isotope({filter:c,animationOptions:{duration:750,easing:"linear",queue:false}});return false});a.find("a").on("click",function(){a.find("a").removeClass("current");jQuery(this).addClass("current");return false})}}}function tokyo_tm_my_progress(){jQuery(".tokyo_progress .bar_in").css({width:"0px"});jQuery(".tokyo_progress .bar").removeClass("open");function a(b){b.find(".progress_inner").each(function(){var d=jQuery(this);var c=parseInt(d.data("value"),10);var f=d.data("color");var g=d.find(".bar");var e=d.find(".bar_in");e.css({width:c+"%",backgroundColor:f});setTimeout(function(){g.addClass("open")})})}jQuery(".tokyo_progress").each(function(){var b=jQuery(this);b.waypoint({handler:function(){a(b)},offset:"90%"})})}function tokyo_tm_preloader(){var a=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?true:false;var b=$("#preloader");if(!a){setTimeout(function(){b.addClass("preloaded")},800);setTimeout(function(){b.remove()},2000)}else{b.remove()}}function tokyo_tm_my_load(){var a=500;setTimeout(function(){tokyo_tm_preloader()},a)}function tokyo_tm_imgtosvg(){jQuery("img.svg").each(function(){var b=jQuery(this);var c=b.attr("class");var a=b.attr("src");jQuery.get(a,function(e){var d=jQuery(e).find("svg");if(typeof c!=="undefined"){d=d.attr("class",c+" replaced-svg")}d=d.removeAttr("xmlns:a");b.replaceWith(d)},"xml")})}function tokyo_tm_popup(){jQuery(".gallery_zoom").each(function(){jQuery(this).magnificPopup({delegate:"a.zoom",type:"image",gallery:{enabled:true},removalDelay:300,mainClass:"mfp-fade"})});jQuery(".popup-youtube, .popup-vimeo").each(function(){jQuery(this).magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:false,fixedContentPos:false})});jQuery(".soundcloude_link").magnificPopup({type:"image",gallery:{enabled:true,},})}function tokyo_tm_data_images(){var a=jQuery("*[data-img-url]");a.each(function(){var c=jQuery(this);var b=c.data("img-url");c.css({backgroundImage:"url("+b+")"})})}function tokyo_tm_owl_carousel(){var b=jQuery(".partners .owl-carousel");var a=false;if(jQuery("body").hasClass("rtl")){a="true"}b.owlCarousel({loop:true,items:4,lazyLoad:false,margin:50,autoplay:true,autoplayTimeout:7000,rtl:a,dots:true,nav:false,navSpeed:true,responsive:{0:{items:1},480:{items:2},768:{items:3},1040:{items:3},1200:{items:3},1600:{items:4},1920:{items:4}}});tokyo_tm_imgtosvg()};