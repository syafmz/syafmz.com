function tokyo_tm_menu(){"use strict";var t=jQuery(".tokyo_tm_all_wrap .leftpart .menu ul li,.tokyo_tm_mobile_menu .menu ul li"),o=jQuery(".tokyo_tm_all_wrap"),e=jQuery(".tokyo_tm_section");t.on("click",function(){var i=jQuery(this),a=i.find("a").attr("href");i.hasClass("active")||(t.removeClass("active"),i.addClass("active"),e.removeClass("active"),o.find(a).addClass("active").animate({scrollTop:0}))})}function tokyo_tm_modalbox_news(){"use strict";var t=jQuery(".tokyo_tm_modalbox"),o=jQuery(".tokyo_tm_news ul li"),e=t.find(".close");o.each(function(){var o=jQuery(this),e=o.find(".list_inner").html(),i=o.find(".details .title a,.tokyo_tm_full_link,.tokyo_tm_read_more a"),a=o.find(".main"),r=a.data("img-url"),n=(o.find(".title"),o.find(".title a").html());i.on("click",function(){return jQuery("body").addClass("modal"),t.addClass("opened"),t.find(".description_wrap").html(e),(a=t.find(".main")).css({backgroundImage:"url("+r+")"}),t.find(".title").html(n),tokyo_tm_imgtosvg(),!1})}),e.on("click",function(){return t.removeClass("opened"),t.find(".description_wrap").html(""),jQuery("body").removeClass("modal"),!1})}function tokyo_tm_modalbox_about(){"use strict";var t=jQuery(".tokyo_tm_modalbox_about"),o=jQuery(".tokyo_tm_about .tokyo_tm_button a"),e=t.find(".close");o.on("click",function(){return t.addClass("opened"),tokyo_tm_my_progress(),!1}),e.on("click",function(){return t.removeClass("opened"),!1})}function tokyo_tm_modalbox_portfolio(){"use strict";var t=jQuery(".tokyo_tm_modalbox");jQuery(".tokyo_tm_portfolio .popup_info").on("click",function(){var o=jQuery(this).closest("li"),e=o.find(".details_all_wrap").html(),i=o.find(".entry").data("title"),a=o.find(".entry").data("category");t.addClass("opened"),t.find(".description_wrap").html(e),t.find(".top_image").html(o.find(".popup_info").html()),t.find(".portfolio_main_title").html("<h3>"+i+"</h3><span>"+a+"</span>"),tokyo_tm_popup()})}function tokyo_tm_projects(){"use strict";jQuery(".tokyo_tm_portfolio_animation_wrap").each(function(){jQuery(this).on("mouseenter",function(){jQuery(this).data("title")&&(jQuery(".tokyo_tm_portfolio_titles").html(jQuery(this).data("title")+'<span class="work__cat">'+jQuery(this).data("category")+"</span>"),jQuery(".tokyo_tm_portfolio_titles").addClass("visible")),jQuery(document).on("mousemove",function(t){jQuery(".tokyo_tm_portfolio_titles").css({left:t.clientX-10,top:t.clientY+25})})}).on("mouseleave",function(){jQuery(".tokyo_tm_portfolio_titles").removeClass("visible")})})}function tokyo_tm_portfolio(){"use strict";if(jQuery().isotope){var t=jQuery(".tokyo_tm_portfolio .portfolio_list"),o=jQuery(".tokyo_tm_portfolio .portfolio_filter ul");o.length&&(o.find("a").on("click",function(){var o=jQuery(this).attr("data-filter");return t.isotope({filter:o,animationOptions:{duration:750,easing:"linear",queue:!1}}),!1}),o.find("a").on("click",function(){return o.find("a").removeClass("current"),jQuery(this).addClass("current"),!1}))}}function tokyo_tm_my_progress(){"use strict";jQuery(".tokyo_progress .bar_in").css({width:"0px"}),jQuery(".tokyo_progress .bar").removeClass("open"),jQuery(".tokyo_progress").each(function(){var t=jQuery(this);t.waypoint({handler:function(){t.find(".progress_inner").each(function(){var t=jQuery(this),o=parseInt(t.data("value"),10),e=t.data("color"),i=t.find(".bar");t.find(".bar_in").css({width:o+"%",backgroundColor:e}),setTimeout(function(){i.addClass("open")})})},offset:"90%"})})}function tokyo_tm_preloader(){"use strict";var t=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),o=$("#preloader");t?o.remove():(setTimeout(function(){o.addClass("preloaded")},800),setTimeout(function(){o.remove()},2e3))}function tokyo_tm_my_load(){"use strict";setTimeout(function(){tokyo_tm_preloader()},500)}function tokyo_tm_imgtosvg(){"use strict";jQuery("img.svg").each(function(){var t=jQuery(this),o=t.attr("class"),e=t.attr("src");jQuery.get(e,function(e){var i=jQuery(e).find("svg");void 0!==o&&(i=i.attr("class",o+" replaced-svg")),i=i.removeAttr("xmlns:a"),t.replaceWith(i)},"xml")})}function tokyo_tm_popup(){"use strict";jQuery(".gallery_zoom").each(function(){jQuery(this).magnificPopup({delegate:"a.zoom",type:"image",gallery:{enabled:!0},removalDelay:300,mainClass:"mfp-fade"})}),jQuery(".popup-youtube, .popup-vimeo").each(function(){jQuery(this).magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1})}),jQuery(".soundcloude_link").magnificPopup({type:"image",gallery:{enabled:!0}})}function tokyo_tm_data_images(){"use strict";jQuery("*[data-img-url]").each(function(){var t=jQuery(this),o=t.data("img-url");t.css({backgroundImage:"url("+o+")"})})}function tokyo_tm_owl_carousel(){"use strict";var t=jQuery(".partners .owl-carousel"),o=!1;jQuery("body").hasClass("rtl")&&(o="true"),t.owlCarousel({loop:!0,items:4,lazyLoad:!1,margin:50,autoplay:!0,autoplayTimeout:7e3,rtl:o,dots:!0,nav:!1,navSpeed:!0,responsive:{0:{items:1},480:{items:2},768:{items:3},1040:{items:3},1200:{items:3},1600:{items:4},1920:{items:4}}}),tokyo_tm_imgtosvg()}jQuery(document).ready(function(){"use strict";tokyo_tm_menu(),tokyo_tm_modalbox_news(),tokyo_tm_modalbox_about(),tokyo_tm_modalbox_portfolio(),tokyo_tm_my_progress(),tokyo_tm_projects(),tokyo_tm_portfolio(),tokyo_tm_imgtosvg(),tokyo_tm_popup(),tokyo_tm_data_images(),tokyo_tm_owl_carousel(),jQuery(window).load("body",function(){tokyo_tm_my_load()})});